/*
    Number to Octal and Octal to Number
*/
#include<stdio.h>
#include<conio.h>
#include<math.h>

void main()
{
    long int a,e,i,j,w,nat[20],k=0,n,p;
    double b,c,d,r,f,z,y,x,v,nat1[20],sum1,q;
    clrscr();

    printf("Enter a number to convert in octal between 0 and 10 digits:");
    scanf("%lf",&b);
    if(b>0)
    {
        printf("\n\tOctal Number : ");
        y=b;
        a=b;
        c=a;
        z=y-a;

        for(i=0; c>0; i++,k++)
        {
            d=c/8;
            e=d;
            f=d-e;
            r=f*8;
            nat[i]=r;
            c=e;
        }
        i=i-1;
        k=k-1;

        for(i;i>=0;i--)
        {
            printf("%ld",nat[i]);
        }

        if(z!=0)
        {
            printf(".");
            for(j=0;j<3;j++)
            {
                x=z*8;
                w=x;
                nat1[j]=w;
                printf("%ld",w);
                v=x-w;
                z=v;
            }
        }
    }
    else if(b<0)
        printf("Octal number can only be converted from positive numbers");
    else
        printf("\n\tOctal Number : 0");
    printf("\n");

//---------------------------------------
    if(b>-1)
    {
        if(b!=0)
        {
            printf("\n\tEntered Number : ");
            for(p=0,n=0;p<=k;p++,n++)
            {
                q=nat[p]*pow(8,n);
                sum1=sum1+q;
            }
            for(p=0,n=1;p<=k;p++,n++)
            {
                q=nat1[p]*pow(0.125,n);
                sum1=sum1+q;
            }
            printf("%.2lf",sum1);
        }
        else
            printf("\n Entered number : 0");
    }

    getch();
}